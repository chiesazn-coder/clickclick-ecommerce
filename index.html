<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta
      name="description"
      content="Click Click â€” Magnetic Selfie Screen & MagSafe accessories. Slim, strong, clicks like magic."
    />
    <link rel="canonical" href="https://clickclick.id/" />

    <title>Click Click</title>

    <!-- CSS Tailwind -->
    <link id="twcss" rel="stylesheet" href="./dist/output.css" />

    <!-- Muat versi -->
    <script src="./version.js"></script>

    <script>
      // Saat localhost: pakai timestamp biar selalu fresh
      (function () {
        const isLocal =
          location.hostname === "127.0.0.1" ||
          location.hostname === "localhost";
        const link = document.getElementById("twcss");
        if (!link) return;

        if (isLocal) {
          link.href = link.href + "?v=" + Date.now();
        } else {
          // Production: pakai version.js
          link.href =
            link.href + "?v=" + (window.__ASSET_VERSION__ || "1");
        }

        // Contoh jika kamu punya JS terpisah:
        // const s = document.createElement("script");
        // s.src = "./dist/app.js?v=" + (isLocal ? Date.now() : (window.__ASSET_VERSION__ || "1"));
        // document.head.appendChild(s);
      })();
    </script>

    <link
      rel="icon"
      type="image/png"
      href="assets/favicon.png"
      sizes="32x32"
    />
    <link rel="apple-touch-icon" href="assets/favicon.png" />

    <!-- Anim reveal -->
    <style>
      .reveal {
        opacity: 0;
        transform: translate3d(0, 12px, 0);
        transition: opacity 0.7s ease, transform 0.7s ease;
        will-change: opacity, transform;
      }
      .reveal.show {
        opacity: 1;
        transform: none;
      }
      .fade-up {
        transform: translate3d(0, 24px, 0);
      }
      .fade-down {
        transform: translate3d(0, -24px, 0);
      }
      .fade-left {
        transform: translate3d(24px, 0, 0);
      }
      .fade-right {
        transform: translate3d(-24px, 0, 0);
      }
      .zoom-in {
        transform: scale(0.96);
      }
      .slow {
        transition-duration: 1s;
      }
      .slower {
        transition-duration: 1.25s;
      }
    </style>

    <!-- Promo marquee -->
    <style>
      .promo-marquee {
        --speed: 18s;
        background: #e04a82;
        color: #fff;
        overflow: hidden;
        position: relative;
      }
      .promo-track {
        display: flex;
        width: 200%;
        animation: promo-scroll var(--speed) linear infinite;
        will-change: transform;
      }
      .promo-chunk {
        flex: 0 0 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 2rem;
        padding: 0.75rem 0;
        white-space: nowrap;
        font-weight: 600;
      }
      .promo-marquee:hover .promo-track {
        animation-play-state: paused;
      }
      .promo-track.reverse {
        animation-direction: reverse;
      }
      @keyframes promo-scroll {
        from {
          transform: translateX(0);
        }
        to {
          transform: translateX(-50%);
        }
      }
      @media (prefers-reduced-motion: reduce) {
        .promo-track {
          animation: none;
          transform: none;
        }
      }
      @media (max-width: 767px) {
        .promo-marquee {
          --speed: 22s;
        }
      }
    </style>

    <style>
      @media (prefers-reduced-motion: reduce) {
        .reveal {
          transition: none !important;
          transform: none !important;
          opacity: 1 !important;
        }
      }
    </style>

    <style>
      .whats-fixed {
        position: fixed;
        right: 16px;
        bottom: 16px;
        z-index: 99999;
      }
    </style>

    <style>
      /* efek badge & pita */
      .promo-badge {
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
      }
      .promo-pill {
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
      }
      /* bintang rating (pakai mask SVG sederhana) */
      .star {
        --s: 1;
        width: calc(16px * var(--s));
        height: calc(16px * var(--s));
        -webkit-mask: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='black' d='M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'/></svg>")
          no-repeat center / contain;
        mask: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='black' d='M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'/></svg>")
          no-repeat center / contain;
        background: #f59e0b;
      }
    </style>

    <style>
      html,
      body {
        height: 100%;
      }
      body {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      /* ---- Animations (existing) ---- */
      @keyframes fadeUp {
        from {
          opacity: 0;
          transform: translateY(18px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .reveal {
        opacity: 0;
        transform: translateY(18px);
      }
      .reveal.inview {
        animation: fadeUp 0.7s ease-out both;
      }

      @keyframes floaty {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-8px);
        }
      }
      .floaty {
        animation: floaty 6s ease-in-out infinite;
      }

      /* === M4 slide-in wrappers === */
      .m4-anim {
        opacity: 0;
        will-change: transform, opacity;
      }

      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(10vw);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
      @keyframes slideInLeft {
        from {
          opacity: 0;
          transform: translateX(-10vw);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      /* tambahin delay */
      .m4-anim-right.inview {
        animation: slideInRight 0.9s cubic-bezier(0.2, 0.7, 0.2, 1) 0.4s both; /* delay 0.4s */
      }
      .m4-anim-left.inview {
        animation: slideInLeft 0.9s cubic-bezier(0.2, 0.7, 0.2, 1) 0.6s both; /* delay 0.6s */
      }

      /* Reduced motion respect */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation: none !important;
          transition: none !important;
        }
      }
    </style>

    <style>
      /* Skala responsif: min | prefer (vw) | max */
      .w-prod-1 {
        width: clamp(250px, 30vw, 300px);
      } /* kiri */
      .w-prod-2 {
        width: clamp(260px, 38vw, 300px);
      } /* tengah-kiri */
      .w-prod-3 {
        width: clamp(260px, 38vw, 300px);
      } /* bundar tengah */
      .w-prod-4 {
        width: clamp(270px, 35vw, 320px);
      } /* kanan */
      .w-rounded {
        width: clamp(700px, 90vw, 980px);
      } /* panel bawah */

      /* (Opsional) haluskan render PNG tipis */
      img {
        image-rendering: auto;
      }
    </style>

    <style>
      /* masuk dari atas + fade */
      @keyframes riseFade {
        from {
          opacity: 0;
          transform: translateY(18px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      /* pop lembut untuk angka/badge */
      @keyframes pop {
        0% {
          transform: scale(0.9);
          opacity: 0;
        }
        60% {
          transform: scale(1.04);
          opacity: 1;
        }
        100% {
          transform: scale(1);
        }
      }
      /* mengambang vertikal pelan */
      @keyframes floatY {
        0%,
        100% {
          transform: translate(-50%, 0);
        }
        50% {
          transform: translate(-50%, -8px);
        }
      }
      /* tilt + float untuk device kanan */
      @keyframes tiltFloat {
        0%,
        100% {
          transform: translate(-50%, 0) rotate(6deg);
        }
        50% {
          transform: translate(-50%, -10px) rotate(6deg);
        }
      }
      /* glow berdenyut di panel tengah */
      @keyframes glowPulse {
        0%,
        100% {
          box-shadow: 0 16px 48px rgba(214, 81, 131, 0.22);
        }
        50% {
          box-shadow: 0 20px 56px rgba(214, 81, 131, 0.32);
        }
      }
      /* highlight shine horizontal */
      @keyframes shine {
        0% {
          transform: translateX(-120%);
        }
        100% {
          transform: translateX(120%);
        }
      }

      /* Matikan animasi jika user pilih reduce motion */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation: none !important;
          transition: none !important;
        }
      }
    </style>

    <style>
      @keyframes floatY {
        0%,
        100% {
          transform: translate(-50%, 0);
        }
        50% {
          transform: translate(-50%, -12px);
        }
      }
      @keyframes tiltFloat {
        0%,
        100% {
          transform: translate(-50%, 0) rotate(6deg);
        }
        50% {
          transform: translate(-50%, -12px) rotate(6deg);
        }
      }
    </style>

    <style>
      @keyframes glowPulse {
        0%,
        100% {
          box-shadow: 0 16px 48px rgba(214, 81, 131, 0.22);
        }
        50% {
          box-shadow: 0 20px 58px rgba(214, 81, 131, 0.32);
        }
      }
      @keyframes shine {
        0% {
          transform: translateX(-120%);
        }
        100% {
          transform: translateX(120%);
        }
      }
      /* reduce motion */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation: none !important;
          transition: none !important;
        }
      }
    </style>
  </head>

  <body class="font-sans bg-gray-50">
    <!-- ========== NAVBAR (mobile hamburger + dropdown) ========== -->
    <header class="sticky top-0 z-50 bg-white/80 backdrop-blur shadow-sm">
      <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-3">
        <div class="flex items-center justify-between">
          <a href="#" class="inline-flex items-center gap-2">
            <img src="./assets/logo.png" alt="Click Click" class="h-7 w-auto" />
          </a>

          <!-- Desktop menu -->
          <nav class="hidden md:flex items-center gap-8 text-[15px] font-medium">
            <a class="hover:text-pink-600" href="./index.html">Home</a>
            <a class="hover:text-pink-600" href="./shop/all-shop.html">Products</a>
            <a class="hover:text-pink-600" href="./our-story.html">About Us</a>
            <a class="hover:text-pink-600" href="./contact.html">Contact</a>
          </nav>

          <!-- Right icons + hamburger -->
          <div class="flex items-center gap-2">
            <button
              id="open-cart"
              aria-label="Cart"
              class="relative p-2 hover:bg-gray-100 rounded-full"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  d="M3 3h2l.4 2M7 13h9l3-8H6.4"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                ></path>
                <circle cx="9" cy="19" r="1.8"></circle>
                <circle cx="17" cy="19" r="1.8"></circle>
              </svg>
              <span
                id="cart-badge"
                class="absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 rounded-full bg-black text-white text-[10px] leading-[18px] text-center hidden"
              ></span>
            </button>

            <!-- Hamburger (mobile) -->
            <button
              id="btn-menu"
              class="md:hidden p-2 rounded-lg hover:bg-gray-100"
              aria-expanded="false"
              aria-controls="mobileMenu"
              aria-label="Open menu"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                class="w-6 h-6"
              >
                <path
                  fill="currentColor"
                  d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"
                />
              </svg>
            </button>
          </div>
        </div>

        <!-- Mobile menu -->
        <div
          id="mobileMenu"
          class="md:hidden hidden absolute left-0 right-0 top-full bg-white border-t border-black/10 shadow-lg"
        >
          <nav class="px-4 py-3 grid gap-2 text-[15px] font-medium">
            <a class="py-2 hover:text-pink-600" href="./index.html">Home</a>
            <a class="py-2 hover:text-pink-600" href="./shop/all-shop.html">Products</a>
            <a class="py-2 hover:text-pink-600" href="./our-story.html">About Us</a>
            <a class="py-2 hover:text-pink-600" href="./contact.html">Contact</a>
            <a
              href="./shop/all-shop.html"
              class="mt-2 inline-flex w-full items-center justify-center rounded-full border border-gray-900 px-5 py-2 text-sm font-semibold hover:bg-gray-900 hover:text-white transition"
            >
              Shop Now
            </a>
          </nav>
        </div>
      </div>
    </header>

    <!-- ========== HERO (fluid type + min-height responsif + picture srcset) ========== -->
    <!-- HERO -->
    <section
      id="hero"
      class="relative w-full min-h-screen overflow-hidden"
      style="
        background-image: url('./assets/promo/Artboard-1.png');
        /* absolute path */
        background-size: cover;
        background-position: center -90px;
        background-repeat: no-repeat;
      "
    >
      <!-- Bagian Judul -->
      <div
        id="hero-title"
        class="absolute top-[4%] left-1/2 -translate-x-1/2 text-center animate-[riseFade_.8s_ease-out_.05s_both]"
      >
        <h1
          class="text-[clamp(50px,10vw,70px)] font-extrabold tracking-tight text-[#9E1010] drop-shadow-sm animate-[pop_.8s_ease-out_.1s_both]"
        >
          SPECIAL SALE
        </h1>
        <span
          class="mt-2 inline-block px-[clamp(12px,3vw,28px)] py-[clamp(4px,1vw,8px)] text-[clamp(12px,2vw,20px)] font-semibold text-white rounded-full bg-gradient-to-r from-rose-500 to-amber-500 shadow-md animate-[pop_.9s_cubic-bezier(.2,.8,.2,1)_.2s_both]"
        >
          OFFICIAL STORE
        </span>
      </div>

      <!-- panggung: area aman tempat produk, dirata-tengah & dibatasi max width -->
      <div class="absolute inset-0 max-w-[1280px] mx-auto">
        <!-- supaya konten benar2 rata tengah, kita pakai grid -->
        <div class="absolute inset-0 grid place-items-center">
          <!-- ================= PRODUK ================= -->
          <!-- NB: top/left pakai % agar ikut skala layar; translate untuk anchor ke tengah objek -->
          <!-- Kamu bisa geser nilai % di bawah untuk penyesuaian manual -->

          <!-- Produk 1 (kiri tegak) -->
          <img
            id="prod1"
            src="./assets/promo/produk-1.png"
            alt="Produk 1"
            class="absolute w-prod-1"
            style="left:30%; bottom:42%; transform:translate(-50%, 0); animation: floatY 6s ease-in-out infinite;"
            title="Posisi: kiri â€¢ left:18% | bottom:22%"
          />

          <!-- Produk 2 (tengah kiri, agak besar) -->
          <img
            id="prod2"
            src="./assets/promo/produk-4.png"
            alt="Produk 2"
            class="absolute w-prod-2"
            style="left:45%; bottom:35%; transform:translate(-50%, 0); animation: floatY 6s ease-in-out infinite;"
            title="Posisi: tengah-kiri â€¢ left:39% | bottom:18% | rotateÂ°"
          />

          <!-- Produk 3 (jam bundar di tengah) -->
          <img
            id="prod3"
            src="./assets/promo/produk-3.png"
            alt="Produk 3"
            class="absolute w-prod-3"
            style="left:57.5%; bottom:30%; transform:translate(-50%, 0); animation: floatY 6s ease-in-out infinite;"
            title="Posisi: tengah â€¢ left:57.5% | bottom:20%"
          />

          <!-- Produk 4 (kanan miring, paling besar) -->
          <img
            id="prod4"
            src="./assets/promo/produk-2.png"
            alt="Produk 4"
            class="absolute w-prod-4"
            style="left:73%; bottom:15%; transform:translate(-50%, 0) rotate(6deg); animation: floatY 6s ease-in-out infinite;"
            title="Posisi: kanan â€¢ left:78.5% | bottom:25% | rotate:6Â°"
          />
        </div>
      </div>

      <!-- ===== Panel bawah (3 rectangle sejajar, responsif & rapi) ===== -->
      <div
        class="promo-panels absolute left-1/2 bottom-[6%] -translate-x-1/2 z-30 flex flex-wrap md:flex-nowrap items-end justify-center gap-[clamp(10px,2.5vw,22px)] max-w-[min(95vw,1100px)]"
        aria-label="Promo panels"
      >
        <!-- PANEL KIRI -->
        <div
          class="relative overflow-hidden rounded-[28px] h-[clamp(72px,11vw,120px)] w-[clamp(180px,26vw,300px)] bg-white/75 backdrop-blur-[2px] ring-1 ring-rose-200/50 shadow-[0_8px_30px_rgba(214,81,131,0.16)] grid place-items-center px-[clamp(12px,2vw,20px)] transition-transform duration-300 hover:-translate-y-1"
        >
          <!-- shine -->
          <span
            class="pointer-events-none absolute inset-y-0 left-0 w-1/3 bg-gradient-to-r from-white/0 via-white/35 to-white/0 -skew-x-12 animate-[shine_3s_linear_infinite]"
          ></span>

          <p
            class="text-[clamp(14px,2.2vw,26px)] leading-[1.05] font-extrabold tracking-tight text-[#9E1010] text-center"
          >
            PRICE<br />DISCOUNT
          </p>
        </div>

        <!-- PANEL TENGAH (GOLD) -->
        <div
          class="relative overflow-hidden rounded-[28px] h-[clamp(92px,15vw,160px)] w-[clamp(240px,36vw,440px)] bg-white/95 backdrop-blur-[4px] ring-1 ring-rose-300 grid place-items-center px-[clamp(14px,2vw,24px)] animate-[glowPulse_3.6s_ease-in-out_infinite] transition-transform duration-300 hover:-translate-y-1"
        >
          <!-- bingkai emas -->
          <div
            class="pointer-events-none absolute inset-0 rounded-[28px] ring-2 ring-[#d7c26a]/70"
          ></div>
          <!-- gradient lembut -->
          <div
            class="pointer-events-none absolute inset-0 bg-gradient-to-b from-amber-200/55 via-white/80 to-rose-100/45"
          ></div>
          <!-- glow highlight -->
          <div
            class="pointer-events-none absolute -top-[clamp(16px,3vw,28px)] -left-[clamp(20px,4vw,36px)] w-[clamp(120px,18vw,220px)] h-[clamp(120px,18vw,220px)] rounded-full opacity-80"
            style="background: radial-gradient(closest-side, rgba(255,234,180,.95), rgba(255,234,180,0) 70%);"
          ></div>

          <!-- isi -->
          <div class="relative text-center">
            <h3
              class="text-[clamp(11px,1.6vw,18px)] font-extrabold tracking-wide text-[#9E1010]"
            >
              DISCOUNT ALL ITEM
            </h3>
            <p
              class="mt-[clamp(0px,.6vw,6px)] text-[clamp(42px,7.5vw,88px)] leading-none font-extrabold text-[#9E1010] drop-shadow-[0_2px_0_rgba(255,255,255,0.8)]"
            >
              55%
            </p>
          </div>
        </div>

        <!-- PANEL KANAN -->
        <div
          class="relative overflow-hidden rounded-[28px] h-[clamp(72px,11vw,120px)] w-[clamp(180px,26vw,300px)] bg-white/75 backdrop-blur-[2px] ring-1 ring-rose-200/50 shadow-[0_8px_30px_rgba(214,81,131,0.16)] grid place-items-center px-[clamp(12px,2vw,20px)] transition-transform duration-300 hover:-translate-y-1"
        >
          <!-- shine -->
          <span
            class="pointer-events-none absolute inset-y-0 left-0 w-1/3 bg-gradient-to-r from-white/0 via-white/35 to-white/0 -skew-x-12 animate-[shine_3.2s_linear_infinite]"
          ></span>

          <p
            class="text-[clamp(14px,2.2vw,26px)] leading-[1.05] font-extrabold tracking-tight text-[#9E1010] text-center"
          >
            FREE<br />SHIPPING
          </p>
        </div>
      </div>

      <!-- (Opsional) gradient halus di atas biar glow background lebih mulus -->
      <div
        class="pointer-events-none absolute inset-x-0 top-0 h-24 bg-gradient-to-b from-white/30 to-transparent"
      ></div>
    </section>

    <style>
      /* Fallback kuat untuk mobile */
      #hero {
        min-height: 100svh;
      } /* stabil di iOS modern */
      @supports (-webkit-touch-callout: none) {
        #hero {
          min-height: 100dvh;
        } /* fallback Safari */
      }
      @media (max-width: 640px) {
        #hero {
          background-position: center top !important;
        } /* jangan offset negatif di HP */
      }
    </style>

    <!-- SECTION M4 â€” clean & responsive -->
    <section id="m4" class="relative overflow-hidden overflow-x-clip bg-white">
      <div class="relative mx-auto w-full max-w-[1700px] px-4 sm:px-6 lg:px-0 py-10 sm:py-14 lg:py-20">

        <div class="relative grid grid-cols-1 lg:grid-cols-2 items-center">

          <!-- LEFT (bottom image) -->
          <div class="relative order-2 lg:order-1 px-4 sm:px-6 lg:pl-10">
            <!-- copy kiri -->
            <div id="m4-left-copy" class="z-10 mb-6 sm:mb-8 lg:mb-0 lg:px-0">
              <p class="text-gray-700 text-sm sm:text-base lg:text-lg">New Arrival</p>
              <h2 class="font-light text-gray-900 leading-none"
                  style="font-size:clamp(36px,8vw,104px); letter-spacing:.5px;">
                M4
              </h2>
            </div>

            <!-- image bawah -->
            <div class="relative overflow-visible lg:mt-[-10vh] m4-anim m4-anim-left">
              <img
                id="m4-bottom"
                src="./assets/m4-bottom.png"
                alt="M4 bottom"
                class="w-full h-full object-contain lg:translate-x-[-15%]"
                loading="eager"
              />
            </div>
          </div>

          <!-- RIGHT (top image) -->
          <div class="relative order-1 lg:order-2 overflow-visible px-4 sm:px-6 lg:pr-10">
            <!-- image atas -->
            <div class="relative overflow-visible lg:mt-[-10vh] m4-anim m4-anim-right">
              <img
                id="m4-top"
                src="./assets/m4-top.png"
                alt="M4 top"
                class="w-full h-full object-contain lg:translate-x-[15%]"
                loading="eager"
              />
            </div>

            <!-- teks kanan (desktop) -->
            <div class="absolute bottom-0 right-0 text-right text-gray-900 pr-4 sm:pr-6 lg:pr-0 hidden lg:block">
              <div class="font-light leading-none sm:tracking-tight" style="font-size:clamp(30px,7.4vw,100px);">
                SLIM
              </div>
              <div class="text-gray-600" style="font-size:clamp(12px,2vw,28px); font-weight:300;">
                Stylist
              </div>
            </div>
          </div>
        </div>

        <!-- overlay teks untuk MOBILE -->
        <div id="m4-mobile-words"
            class="lg:hidden pointer-events-none absolute left-1/2 -translate-x-1/2 top-[58%] text-center">
          <div class="font-light text-gray-900/20 leading-none"
              style="font-size:clamp(48px,24vw,110px);">SLIM</div>
          <div class="font-light text-gray-900/20 leading-none -mt-[2vw]"
              style="font-size:clamp(42px,16vw,90px);">Stylish</div>
        </div>

      </div>
    </section>


    <script>
      // Mobile nav toggle
      const btn = document.getElementById("navToggle");
      const menu = document.getElementById("mobileMenu");
      btn?.addEventListener("click", () =>
        menu.classList.toggle("hidden")
      );

      // Reveal on scroll (sekalian amati .m4-anim)
      const obs = new IntersectionObserver(
        (entries) => {
          entries.forEach((e) => {
            if (e.isIntersecting) {
              e.target.classList.add("inview");
              obs.unobserve(e.target);
            }
          });
        },
        { threshold: 0.2 }
      );

      document
        .querySelectorAll(".reveal, .m4-anim")
        .forEach((el) => obs.observe(el));
    </script>

    <div class="promo-marquee mt-10">
      <div class="promo-track">
        <div class="promo-chunk">
          <span
            >Launching Promo! Get the Click Click Mirror Screen at an
            exclusive price â€“ only for a limited time!</span
          >
          <span>â€¢</span><span>Free shipping in Jabodetabek</span
          ><span>â€¢</span><span>Hurry, while stocks last</span>
        </div>
        <div class="promo-chunk" aria-hidden="true">
          <span
            >Launching Promo! Get the Click Click Mirror Screen at an
            exclusive price â€“ only for a limited time!</span
          >
          <span>â€¢</span><span>Free shipping in Jabodetabek</span
          ><span>â€¢</span><span>Hurry, while stocks last</span>
        </div>
      </div>
    </div>

    <!-- TRENDING -->
    <section id="trending" class="py-16 bg-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 reveal fade-up slow">
        <div class="text-center mb-10">
          <h2 class="text-3xl sm:text-4xl font-bold tracking-tight">
            TRENDING
          </h2>
          <a
            href="./shop/all-shop.html"
            class="inline-flex items-center gap-2 mt-4 rounded-lg border-2 border-black px-6 py-2 font-semibold hover:bg-black hover:text-white transition"
            >Shop Now</a
          >
        </div>

        <div
          id="product-grid"
          class="grid gap-6 [grid-template-columns:repeat(auto-fit,minmax(220px,1fr))]"
        >
          <!-- ITEM 1 -->
          <figure
            class="group prod-card rounded-2xl border border-black/5 bg-white p-3 hover:-translate-y-1 hover:shadow-xl transition"
          >
            <div class="relative rounded-xl overflow-hidden">
              <!-- BADGE SAVE XX% -->
              <span
                class="promo-badge absolute left-3 top-3 z-10 inline-flex items-center rounded-md bg-amber-400 text-amber-900 px-2.5 py-1 text-[11px] font-bold uppercase tracking-wide"
              >
                SAVE <span class="js-save ml-1">55</span>%
              </span>

              <img
                src="assets/prod-m4.png"
                alt="M4"
                class="w-full h-auto select-none"
              />

              <!-- QUICK VIEW BTN tetap -->
              <button
                class="absolute left-0 right-0 bottom-0 bg-white/90 backdrop-blur text-gray-900 px-6 py-3 text-sm font-medium border-t border-black/10 md:opacity-0 md:translate-y-2 md:group-hover:opacity-100 md:group-hover:translate-y-0 transition js-open-qv"
                data-product='{
                  "id":"m4",
                  "title":"MagSafe Selfie Screen M4 | Monitor Vlog Wireless Iphone",
                  "price":895500,
                  "compareAt":1990000,
                  "images":["assets/prod-m4.png","./assets/product/M4 SLIDE 2.png","./assets/product/M4 SLIDE 3.png","./assets/product/M4 SLIDE 4.png"]
                }'
              >
                Quick View
              </button>
            </div>

            <figcaption class="mt-3">
              <h3 class="mt-2 font-medium text-gray-900 leading-snug">
                MagSafe Selfie Screen M4 | Monitor Vlog Wireless Iphone
              </h3>

              <!-- Harga: promo + coret -->
              <div class="mt-1 flex items-baseline gap-2">
                <span class="js-price text-lg font-bold text-gray-900"
                  >IDR 895.500</span
                >
                <span class="js-compare text-sm text-gray-400 line-through"
                  >IDR 1.990.000</span
                >
              </div>
            </figcaption>
          </figure>

          <!-- ITEM 2 -->
          <figure
            class="group prod-card rounded-2xl border border-black/5 bg-white p-3 hover:-translate-y-1 hover:shadow-xl transition"
          >
            <div class="relative rounded-xl overflow-hidden">
              <!-- BADGE SAVE XX% -->
              <span
                class="promo-badge absolute left-3 top-3 z-10 inline-flex items-center rounded-md bg-amber-400 text-amber-900 px-2.5 py-1 text-[11px] font-bold uppercase tracking-wide"
              >
                SAVE <span class="js-save ml-1">55</span>%
              </span>

              <img
                src="assets/prod-t8d.png"
                alt="t8d"
                class="w-full h-auto select-none"
              />

              <!-- QUICK VIEW BTN tetap -->
              <button
                class="absolute left-0 right-0 bottom-0 bg-white/90 backdrop-blur text-gray-900 px-6 py-3 text-sm font-medium border-t border-black/10 md:opacity-0 md:translate-y-2 md:group-hover:opacity-100 md:group-hover:translate-y-0 transition js-open-qv"
                data-product='{
                  "id":"t8d",
                  "title":"T8D Magnetic Safe Mirror Selfie Screen",
                  "price":832500,
                  "compareAt":1850000,
                  "images":["assets/prod-t8d.png","./assets/product/T8D SLIDE 2.png","./assets/product/T8D SLIDE 3.png","./assets/product/T8D SLIDE 5.png"]
                }'
              >
                Quick View
              </button>
            </div>

            <figcaption class="mt-3">
              <h3 class="mt-2 font-medium text-gray-900 leading-snug">
                MagSafe Selfie Screen T8D | Monitor Vlog Wireless Iphone
              </h3>

              <!-- Harga: promo + coret -->
              <div class="mt-1 flex items-baseline gap-2">
                <span class="js-price text-lg font-bold text-gray-900"
                  >IDR 832.500</span
                >
                <span class="js-compare text-sm text-gray-400 line-through"
                  >IDR 1.850.000</span
                >
              </div>
            </figcaption>
          </figure>

          <!-- ITEM 4 -->
          <figure
            class="group prod-card rounded-2xl border border-black/5 bg-white p-3 hover:-translate-y-1 hover:shadow-xl transition"
          >
            <div class="relative rounded-xl overflow-hidden">
              <!-- BADGE SAVE XX% -->
              <span
                class="promo-badge absolute left-3 top-3 z-10 inline-flex items-center rounded-md bg-amber-400 text-amber-900 px-2.5 py-1 text-[11px] font-bold uppercase tracking-wide"
              >
                SAVE <span class="js-save ml-1">55</span>%
              </span>

              <img
                src="assets/prod-t1m.png"
                alt="M4"
                class="w-full h-auto select-none"
              />

              <!-- QUICK VIEW BTN tetap -->
              <button
                class="absolute left-0 right-0 bottom-0 bg-white/90 backdrop-blur text-gray-900 px-6 py-3 text-sm font-medium border-t border-black/10 md:opacity-0 md:translate-y-2 md:group-hover:opacity-100 md:group-hover:translate-y-0 transition js-open-qv"
                data-product='{
                  "id":"t1m",
                  "title":"T1M Magnetic Safe Mirror Selfie Screen",
                  "price":760500,
                  "compareAt":1690000,
                  "images":["assets/prod-t1m.png","./assets/product/T1M SLIDE 2.png","./assets/product/T1M SLIDE 3.png","./assets/product/T1M SLIDE 6.png"]
                }'
              >
                Quick View
              </button>
            </div>

            <figcaption class="mt-3">
              <h3 class="mt-2 font-medium text-gray-900 leading-snug">
                MagSafe Selfie Screen T1M | Monitor Vlog Wireless Iphone
              </h3>

              <!-- Harga: promo + coret -->
              <div class="mt-1 flex items-baseline gap-2">
                <span class="js-price text-lg font-bold text-gray-900"
                  >IDR 760.500</span
                >
                <span class="js-compare text-sm text-gray-400 line-through"
                  >IDR 1.690.000</span
                >
              </div>
            </figcaption>
          </figure>
        </div>

        <!-- No results -->
        <p id="no-results" class="hidden mt-8 text-center text-gray-500">
          No products match your search.
        </p>
      </div>
    </section>

    <!-- QUICK VIEW MODAL -->
    <div id="qv" class="fixed inset-0 z-[60] hidden items-center justify-center p-4">
      <button class="absolute inset-0 bg-black/50" data-qv-close aria-label="Close"></button>
      <div
        class="relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden outline-none"
        role="dialog"
        aria-modal="true"
        aria-labelledby="qv-title"
      >
        <button
          class="absolute top-3 right-3 rounded-full p-2 hover:bg-gray-100"
          data-qv-close
          aria-label="Close"
        >
          âœ•
        </button>
        <div class="grid md:grid-cols-2 gap-6 px-6 pt-10 pb-6 md:px-10 md:pt-14">
          <!-- LEFT: gallery -->
          <div>
            <div class="bg-gray-50 rounded-xl aspect-square flex items-center justify-center">
              <img id="qv-hero" src="" alt="" class="max-h-full object-contain" />
            </div>
            <div id="qv-thumbs" class="mt-3 flex gap-2 overflow-x-auto"></div>
          </div>

          <!-- RIGHT: details -->
          <div class="flex flex-col justify-start md:pt-6 lg:pt-10">
            <h3 id="qv-title" class="text-2xl font-semibold"></h3>
            <div class="mt-2 flex items-baseline gap-3">
              <span id="qv-price" class="text-xl font-bold"></span>
              <span id="qv-compare" class="text-gray-400 line-through"></span>
            </div>

            <div class="mt-5">
              <p id="qv-optname" class="text-xs font-semibold tracking-wider text-gray-600"></p>
              <div id="qv-options" class="mt-2 flex flex-wrap gap-2"></div>
            </div>

            <div class="mt-5 flex items-center gap-3">
              <div class="inline-flex items-center rounded-2xl border h-12" role="group" aria-label="Quantity">
                <button type="button" class="w-10 h-12 text-xl" data-qv-dec aria-label="Decrease">âˆ’</button>
                <input
                  id="qv-qty"
                  class="w-12 h-12 text-center outline-none text-base"
                  type="number"
                  inputmode="numeric"
                  value="1"
                  min="1"
                />
                <button type="button" class="w-10 h-12 text-xl" data-qv-inc aria-label="Increase">+</button>
              </div>

              <button
                id="qv-add"
                class="inline-flex items-center justify-center rounded-xl bg-black text-white px-6 py-3 font-semibold hover:opacity-90"
              >
                ADD TO CART
              </button>
            </div>

            <ul class="mt-5 text-sm text-gray-600 space-y-1">
              <li>â€¢ Kompatibel MagSafe</li>
              <li>â€¢ Instalasi &lt; 30 detik</li>
              <li>â€¢ 12 bulan garansi</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- FEATURES (modern) -->
    <section id="features" class="bg-gradient-to-b from-gray-50 to-white">
      <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20 grid lg:grid-cols-12 gap-10 items-center reveal fade-up slow"
      >
        <!-- LEFT: Product visual -->
        <div class="lg:col-span-6">
          <div class="relative">
            <!-- glow ring -->
            <div class="absolute -inset-4 rounded-3xl bg-gradient-to-br from-indigo-200/40 via-purple-200/40 to-pink-200/40 blur-2xl"></div>
            <div class="relative rounded-3xl overflow-hidden ring-1 ring-black/5 shadow-xl bg-white">
              <img src="assets/feature-magsafe.png" alt="Clickclick MagSafe" class="w-full object-contain" />
            </div>

            <!-- floating badge -->
            <div
              class="hidden md:flex items-center gap-2 absolute -bottom-4 left-6 rounded-full bg-white/90 backdrop-blur px-4 py-2 shadow-md ring-1 ring-black/5"
            >
              <span class="h-2 w-2 rounded-full bg-emerald-500"></span>
              <span class="text-sm font-medium text-gray-800">Snaps strong with MagSafe</span>
            </div>
          </div>
        </div>

        <!-- RIGHT: Copy + feature cards -->
        <div class="lg:col-span-6">
          <div class="max-w-xl">
            <span
              class="inline-flex items-center gap-2 rounded-full bg-black text-white px-3 py-1 text-xs font-semibold tracking-wide"
            >
              <span class="h-1.5 w-1.5 rounded-full bg-emerald-400"></span> New Gen Accessory
            </span>
            <h2 class="mt-4 text-3xl md:text-4xl font-bold tracking-tight text-gray-900">
              Slim. Strong. <span class="text-gray-500">Clicks like Magic.</span>
            </h2>

            <div class="mt-3 text-gray-600 leading-7">
              <p>Designed for everyday use. Lightweight, sleek, and stable when attached.</p>
              <p>Comfortably fits your lifestyle without making your phone feel bulky.</p>
            </div>

            <!-- Feature grid -->
            <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4">
              <!-- Card 1 -->
              <div
                class="group rounded-2xl border border-black/5 bg-white p-5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
              >
                <div class="flex items-start gap-4">
                  <div class="shrink-0 rounded-xl bg-indigo-50 p-2 ring-1 ring-indigo-100">
                    <!-- icon: magnet -->
                    <svg viewBox="0 0 24 24" class="h-5 w-5 text-indigo-600" fill="none" stroke="currentColor" stroke-width="1.8">
                      <path d="M6 8v5a6 6 0 1 0 12 0V8" />
                      <path d="M6 8a6 6 0 0 1 12 0" />
                      <path d="M6 13H3m18 0h-3" />
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-gray-900">MagSafe Compatibility</h3>
                    <p class="mt-1 text-sm text-gray-600">
                      Locks firmly with MagSafe on the back of your phone, ready for every moment.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Card 2 -->
              <div
                class="group rounded-2xl border border-black/5 bg-white p-5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
              >
                <div class="flex items-start gap-4">
                  <div class="shrink-0 rounded-xl bg-rose-50 p-2 ring-1 ring-rose-100">
                    <!-- icon: feather -->
                    <svg viewBox="0 0 24 24" class="h-5 w-5 text-rose-600" fill="none" stroke="currentColor" stroke-width="1.8">
                      <path d="M20 7a8 8 0 0 0-11.31 0L3 12v4h4l5-5" />
                      <path d="M16 7l-9 9" />
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-gray-900">Sleek & Stylish Design</h3>
                    <p class="mt-1 text-sm text-gray-600">
                      Ultra-slim and featherlight, easy to carry anywhere without extra bulk.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Card 3 (optional, mudah dihapus) -->
              <div
                class="group rounded-2xl border border-black/5 bg-white p-5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
              >
                <div class="flex items-start gap-4">
                  <div class="shrink-0 rounded-xl bg-emerald-50 p-2 ring-1 ring-emerald-100">
                    <!-- icon: shield -->
                    <svg viewBox="0 0 24 24" class="h-5 w-5 text-emerald-600" fill="none" stroke="currentColor" stroke-width="1.8">
                      <path d="M12 3l7 4v5c0 5-3.5 7.5-7 9-3.5-1.5-7-4-7-9V7l7-4z" />
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-gray-900">Comfort Grip</h3>
                    <p class="mt-1 text-sm text-gray-600">
                      Smooth texture with a secure feelâ€”easy to hold, never slippery.
                    </p>
                  </div>
                </div>
              </div>

              <!-- Card 4 (optional) -->
              <div
                class="group rounded-2xl border border-black/5 bg-white p-5 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all"
              >
                <div class="flex items-start gap-4">
                  <div class="shrink-0 rounded-xl bg-amber-50 p-2 ring-1 ring-amber-100">
                    <!-- icon: bolt -->
                    <svg viewBox="0 0 24 24" class="h-5 w-5 text-amber-600" fill="none" stroke="currentColor" stroke-width="1.8">
                      <path d="M13 3L4 14h7l-1 7 9-11h-7l1-7z" />
                    </svg>
                  </div>
                  <div>
                    <h3 class="font-semibold text-gray-900">Quick Snap</h3>
                    <p class="mt-1 text-sm text-gray-600">
                      Attach and detach instantly. Switch modes effortlessly, always ready to go.
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- CTA -->
            <div class="mt-8">
              <a
                href="./shop/all-shop.html"
                class="inline-flex items-center justify-center rounded-xl bg-gray-900 text-white px-5 py-3 text-sm font-semibold shadow-sm hover:bg-black transition"
                >Shop Now</a
              >
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FOOTER (modern & clean) -->
    <footer class="bg-white border-t border-black/5 text-sm">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <!-- Customer Care -->
          <div>
            <h4 class="text-base md:text-lg font-semibold tracking-wide text-gray-900 uppercase">Customer Care</h4>
            <ul class="mt-4 space-y-3 text-gray-700">
              <li><a href="shipping.html" class="hover:opacity-80">Shipping & Delivery</a></li>
              <li><a href="returns.html" class="hover:opacity-80">Returns & Exchanges</a></li>
              <li><a href="faq.html" class="hover:opacity-80">FAQ</a></li>
            </ul>
          </div>

          <!-- About Us -->
          <div>
            <h4 class="text-base md:text-lg font-semibold tracking-wide text-gray-900 uppercase">About Us</h4>
            <ul class="mt-4 space-y-3 text-gray-700">
              <li><a href="./our-story.html" class="hover:opacity-80">Our Story</a></li>
              <li><a href="#" class="hover:opacity-80">Wholesale</a></li>
            </ul>
          </div>

          <!-- Help & Legal -->
          <div>
            <h4 class="text-base md:text-lg font-semibold tracking-wide text-gray-900 uppercase">Help & Legal</h4>
            <ul class="mt-4 space-y-3 text-gray-700">
              <li><a href="./privacy.html" class="hover:opacity-80">Privacy Policy</a></li>
              <li><a href="./terms.html" class="hover:opacity-80">Terms of Service</a></li>
              <li><a href="./contact.html" class="hover:opacity-80">Contact Us</a></li>
            </ul>
          </div>

          <!-- Follow Us + Payments -->
          <div class="flex flex-col items-start">
            <h4 class="text-base md:text-lg font-semibold tracking-wide text-gray-900 uppercase">Follow Us</h4>
            <ul class="mt-4 space-y-3 text-gray-700">
              <li><a href="https://www.instagram.com/clickclickofficial.id/" class="hover:opacity-80">Instagram</a></li>
              <li>
                <a
                  href="https://www.tiktok.com/@clickclick.id?_t=ZS-8zDr2pMwNhI&_r=1"
                  class="hover:opacity-80"
                  >TikTok</a
                >
              </li>
              <li><a href="https://shopee.co.id/shop/1556220986" class="hover:opacity-80">Shopee</a></li>
            </ul>

            <!-- Payment icons -->
            <div class="flex items-center gap-4 flex-wrap mt-8">
              <img src="./assets/payments/spay.png" class="h-9" alt="ShopeePay" />
              <img src="./assets/payments/mastercard.png" class="h-9" alt="MasterCard" />
              <img src="./assets/payments/bca-logo.png" class="h-9" alt="BCA" />
              <img src="./assets/payments/bni-logo.png" class="h-6" alt="BNI" />
            </div>
          </div>
        </div>
      </div>

      <!-- Bottom Bar -->
      <div class="border-t border-black/5">
        <div
          class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between text-xs sm:text-sm text-gray-600"
        >
          <p>Â© 2025 Clickclick, All rights reserved.</p>
          <p>Secured Checkout â€¢ Trusted Payments</p>
        </div>
      </div>
    </footer>

    <!-- ===== CART DRAWER ===== -->
    <div id="cart-drawer" class="fixed inset-0 z-[70] hidden">
      <!-- backdrop -->
      <button class="absolute inset-0 bg-black/50 opacity-0 transition-opacity duration-300" data-cart-close></button>
      <!-- panel -->
      <aside
        id="cart-panel"
        class="absolute right-0 top-0 h-full w-full sm:w-[420px] bg-white shadow-2xl translate-x-full transition-transform duration-300 will-change-transform flex flex-col"
      >
        <div class="flex items-center justify-between px-5 py-4 border-b">
          <h3 class="text-lg font-semibold tracking-wide">CART</h3>
          <button class="p-2 rounded-full hover:bg-gray-100" data-cart-close aria-label="Close">âœ•</button>
        </div>

        <div class="px-5 py-4 border-b space-y-2">
          <p id="fs-text" class="text-sm text-gray-700">Spend IDR 0 more for FREE shipping.</p>
          <div class="h-1.5 bg-gray-200 rounded-full overflow-hidden">
            <div id="fs-bar" class="h-full bg-black w-0 transition-all duration-300"></div>
          </div>
        </div>

        <div id="cart-items" class="flex-1 overflow-y-auto px-5 divide-y"></div>

        <div class="border-t p-5 space-y-3">
          <div class="flex items-center justify-between text-sm">
            <span class="text-gray-600">Subtotal</span>
            <strong id="cart-subtotal">IDR 0</strong>
          </div>
          <p class="text-xs text-gray-500">Taxes and shipping calculated at checkout</p>
          <button id="btn-checkout" class="w-full h-12 rounded-full bg-black text-white font-semibold hover:opacity-90">
            CHECKOUT â€¢ <span id="cart-total">IDR 0</span>
          </button>
        </div>
      </aside>
    </div>

    <!--Script Button CHECKOUT-->
    <script>
      document.getElementById("btn-checkout")?.addEventListener("click", (e) => {
        e.preventDefault();

        const CART_KEY = "cc_cart_v1";
        const cart = JSON.parse(localStorage.getItem(CART_KEY) || "[]");
        if (!cart.length) {
          alert("Cart kosong.");
          return;
        }

        // biar nanti bisa dipakai analitik/guard di checkout
        sessionStorage.setItem("cc_checkout_started", Date.now().toString());

        // pergi ke halaman checkout
        location.href = "/checkout.html";
      });
    </script>

    <!-- ================== SCRIPTS DI PALING BAWAH ================== -->
    <!-- Reveal on scroll -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const observer = new IntersectionObserver(
          (entries, obs) => {
            entries.forEach((entry) => {
              if (!entry.isIntersecting) return;
              const el = entry.target;
              const sel = el.getAttribute("data-stagger");
              if (sel) {
                const kids = el.querySelectorAll(sel);
                kids.forEach((k, i) => {
                  k.style.transitionDelay = i * 90 + "ms";
                  k.classList.add("show");
                });
              }
              el.classList.add("show");
              obs.unobserve(el);
            });
          },
          { threshold: 0.12, rootMargin: "0px 0px -10% 0px" }
        );
        document.querySelectorAll(".reveal").forEach((el) => observer.observe(el));
      });
    </script>

    <!-- Quick View logic (EXPOSE ke global) -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const $ = (sel, root = document) => root.querySelector(sel);
        const $$ = (sel, root = document) => [...root.querySelectorAll(sel)];
        const modal = $("#qv");
        const hero = $("#qv-hero");
        const thumbs = $("#qv-thumbs");
        const title = $("#qv-title");
        const price = $("#qv-price");
        const compare = $("#qv-compare");
        const optName = $("#qv-optname");
        const optWrap = $("#qv-options");
        const qtyInput = $("#qv-qty");
        let currentProduct = null;
        let chosenOption = null;
        let lastFocus = null;

        const fIDR = (n) => new Intl.NumberFormat("id-ID").format(n);

        $$(".js-open-qv").forEach((btn) => {
          btn.addEventListener("click", () => {
            try {
              openQuickView(JSON.parse(btn.dataset.product));
            } catch (e) {
              console.error("Invalid data-product JSON", e);
            }
          });
        });

        function openQuickView(p) {
          currentProduct = p;
          window.currentProduct = currentProduct; // EXPOSE
          window.chosenOption = chosenOption; // EXPOSE
          lastFocus = document.activeElement;

          title.textContent = p.title || "";
          price.textContent = p.price ? `IDR ${fIDR(p.price)}` : "";
          compare.textContent =
            p.compareAt && p.compareAt > p.price ? `IDR ${fIDR(p.compareAt)}` : "";

          const imgs =
            Array.isArray(p.images) && p.images.length
              ? p.images
              : ["assets/placeholder.png"];
          hero.src = imgs[0];
          hero.alt = p.title || "Product image";
          thumbs.innerHTML = "";
          imgs.forEach((src, i) => {
            const b = document.createElement("button");
            b.className = "w-16 h-16 rounded-lg overflow-hidden border hover:opacity-80";
            b.innerHTML = `<img src="${src}" alt="" class="w-full h-full object-cover">`;
            b.addEventListener("click", () => {
              hero.src = src;
            });
            thumbs.appendChild(b);
            if (i === 0) b.setAttribute("aria-current", "true");
          });

          optName.textContent = p.optionName || "";
          optWrap.innerHTML = "";
          (p.options || []).forEach((opt) => {
            const disabled = (p.disabled || []).includes(opt);
            const btn = document.createElement("button");
            btn.type = "button";
            btn.textContent = opt;
            btn.disabled = disabled;
            btn.className = `px-3 py-2 rounded-full border text-sm ${
              disabled ? "opacity-40 cursor-not-allowed" : "hover:bg-gray-50"
            }`;
            btn.addEventListener("click", () => {
              chosenOption = opt;
              window.chosenOption = chosenOption; // EXPOSE change
              $$(".is-active", optWrap).forEach((el) =>
                el.classList.remove("is-active", "ring-2", "ring-black")
              );
              btn.classList.add("is-active", "ring-2", "ring-black");
            });
            optWrap.appendChild(btn);
          });
          const firstEnabled = $$("#qv-options button:not([disabled])")[0];
          if (firstEnabled) {
            firstEnabled.click();
          }

          qtyInput.value = 1;

          modal.classList.remove("hidden");
          modal.classList.add("flex");
          document.body.style.overflow = "hidden";
          $("[data-qv-close]", modal).focus();
        }

        function closeQuickView() {
          modal.classList.add("hidden");
          modal.classList.remove("flex");
          document.body.style.overflow = "";
          if (lastFocus) lastFocus.focus();
        }
        window.closeQuickView = closeQuickView; // EXPOSE

        $$("[data-qv-close]", modal).forEach((el) =>
          el.addEventListener("click", closeQuickView)
        );
        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape" && !modal.classList.contains("hidden"))
            closeQuickView();
          if (e.key === "Tab" && !modal.classList.contains("hidden")) {
            const focusables = $$(
              "button,[href],input,select,textarea,[tabindex]:not([tabindex='-1'])",
              modal
            ).filter((el) => !el.disabled);
            if (!focusables.length) return;
            const first = focusables[0],
              last = focusables[focusables.length - 1];
            if (e.shiftKey && document.activeElement === first) {
              last.focus();
              e.preventDefault();
            } else if (!e.shiftKey && document.activeElement === last) {
              first.focus();
              e.preventDefault();
            }
          }
        });

        $("[data-qv-inc]", modal).addEventListener(
          "click",
          () => (qtyInput.value = Math.max(1, (parseInt(qtyInput.value) || 1) + 1))
        );
        $("[data-qv-dec]", modal).addEventListener(
          "click",
          () => (qtyInput.value = Math.max(1, (parseInt(qtyInput.value) || 1) - 1))
        );
        // NOTE: tidak ada handler add-to-cart di sini â€” dihook dari script Cart
      });
    </script>

    <!-- Cart Drawer + state -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const CART_KEY = "cc_cart_v1";
        const FREE_SHIP_THRESHOLD = 1000000;

        let cart = JSON.parse(localStorage.getItem(CART_KEY) || "[]");

        const $ = (s, r = document) => r.querySelector(s);
        const $$ = (s, r = document) => [...r.querySelectorAll(s)];
        const fIDR = (n) =>
          "IDR " + new Intl.NumberFormat("id-ID").format(Math.max(0, Math.floor(n || 0)));

        const drawer = $("#cart-drawer");
        const panel = $("#cart-panel");
        const backdrop = $("[data-cart-close]", drawer);
        const itemsEl = $("#cart-items");
        const subEl = $("#cart-subtotal");
        const totalEl = $("#cart-total");
        const fsText = $("#fs-text");
        const fsBar = $("#fs-bar");
        const badge = $("#cart-badge");

        function save() {
          localStorage.setItem(CART_KEY, JSON.stringify(cart));
        }
        function subtotal() {
          return cart.reduce((s, i) => s + i.price * i.qty, 0);
        }
        function cartCount() {
          return cart.reduce((s, i) => s + i.qty, 0);
        }

        function openCart() {
          drawer.classList.remove("hidden");
          requestAnimationFrame(() => {
            backdrop.style.opacity = "1";
            panel.classList.remove("translate-x-full");
          });
          document.body.style.overflow = "hidden";
        }
        function closeCart() {
          backdrop.style.opacity = "0";
          panel.classList.add("translate-x-full");
          setTimeout(() => drawer.classList.add("hidden"), 300);
          document.body.style.overflow = "";
        }

        function updateFreeShipping(sb) {
          const remain = Math.max(0, FREE_SHIP_THRESHOLD - sb);
          fsText.textContent =
            remain > 0
              ? `Spend ${fIDR(remain)} more for FREE shipping.`
              : `You're qualified for FREE shipping!`;
          fsBar.style.width = Math.min(100, (sb / FREE_SHIP_THRESHOLD) * 100) + "%";
        }

        function render() {
          itemsEl.innerHTML = cart.length
            ? ""
            : `<div class="py-8 text-sm text-gray-500 text-center">Your cart is empty.</div>`;

          cart.forEach((it) => {
            const row = document.createElement("div");
            row.className = "py-4 flex items-center gap-3";
            row.dataset.key = it.key;
            row.innerHTML = `
              <img src="${it.image}" alt="" class="w-16 h-16 rounded-md object-cover bg-gray-50">
              <div class="flex-1">
                <div class="text-sm font-medium leading-tight">${it.title}</div>
                ${it.option ? `<div class="text-xs text-gray-500 mt-0.5">${it.option}</div>` : ""}
                <div class="mt-2 inline-flex items-center rounded-full border">
                  <button class="w-8 h-8" data-dec aria-label="Decrease">âˆ’</button>
                  <span class="w-8 text-center select-none" data-qty>${it.qty}</span>
                  <button class="w-8 h-8" data-inc aria-label="Increase">+</button>
                </div>
              </div>
              <div class="text-sm font-medium">${fIDR(it.price * it.qty)}</div>
              <button class="p-2 text-gray-500 hover:text-black" data-remove aria-label="Remove">
                <svg viewBox="0 0 24 24" class="w-5 h-5" fill="currentColor">
                  <path d="M9 3h6l1 2h4v2H4V5h4l1-2Zm1 7v8h2v-8h-2Zm4 0v8h2v-8h-2ZM6 7h12l-1 13a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2L6 7Z"/>
                </svg>
              </button>
            `;
            itemsEl.appendChild(row);
          });

          const sb = subtotal();
          subEl.textContent = fIDR(sb);
          totalEl.textContent = fIDR(sb);
          updateFreeShipping(sb);

          const count = cartCount();
          if (badge) {
            if (count > 0) {
              badge.textContent = count;
              badge.classList.remove("hidden");
            } else {
              badge.classList.add("hidden");
            }
          }
        }

        function addToCart({ id, title, price, option, image, qty }) {
          const key = id + "|" + (option || "");
          const exist = cart.find((i) => i.key === key);
          if (exist) {
            exist.qty += qty;
          } else {
            cart.push({ key, id, title, price, option, image, qty });
          }
          save();
          render();
        }

        // Drawer events
        drawer.addEventListener("click", (e) => {
          const row = e.target.closest("[data-key]");
          if (e.target.closest("[data-cart-close]")) return closeCart();

          if (row) {
            const key = row.dataset.key;
            const item = cart.find((i) => i.key === key);
            if (!item) return;

            if (e.target.closest("[data-inc]")) {
              item.qty++;
            }
            if (e.target.closest("[data-dec]")) {
              item.qty = Math.max(1, item.qty - 1);
            }
            if (e.target.closest("[data-remove]")) {
              cart = cart.filter((i) => i.key !== key);
            }
            save();
            render();
          }
        });

        // Open/close triggers
        $("#open-cart")?.addEventListener("click", openCart);
        $$("[data-cart-close]").forEach((b) =>
          b.addEventListener("click", closeCart)
        );
        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape" && !drawer.classList.contains("hidden"))
            closeCart();
        });

        // HOOK tombol ADD TO CART di Quick View
        const qvAdd = document.getElementById("qv-add");
        if (qvAdd) {
          qvAdd.addEventListener("click", () => {
            try {
              const qtyInput = document.getElementById("qv-qty");
              const qty = Math.max(
                1,
                parseInt(qtyInput?.value || "1", 10)
              );

              const p = window.currentProduct || {};
              const opt = window.chosenOption || null;
              const imgEl = document.getElementById("qv-hero");
              const img =
                imgEl?.src || p.images?.[0] || "assets/placeholder.png";

              addToCart({
                id: p.id || "unknown",
                title: p.title || "Product",
                price: Number(p.price) || 0,
                option: opt,
                image: img,
                qty,
              });

              window.closeQuickView && window.closeQuickView();
              openCart();
            } catch (err) {
              console.error("ADD TO CART failed:", err);
            }
          });
        }

        // initial render
        render();
      });
    </script>

    <script>
      // Reveal-on-scroll (copy-safe; idempotent)
      document.addEventListener("DOMContentLoaded", () => {
        const io = new IntersectionObserver(
          (entries, obs) => {
            entries.forEach((entry) => {
              if (!entry.isIntersecting) return;
              const el = entry.target;
              const sel = el.getAttribute("data-stagger");
              if (sel) {
                el.querySelectorAll(sel).forEach((k, i) => {
                  k.style.transitionDelay = i * 90 + "ms";
                  k.classList.add("show");
                });
              }
              el.classList.add("show");
              obs.unobserve(el);
            });
          },
          { threshold: 0.12, rootMargin: "0px 0px -10% 0px" }
        );
        document.querySelectorAll(".reveal").forEach((el) => io.observe(el));
      });
    </script>

    <a
      href="https://wa.me/c/6282146151597?text=Halo%20ClickClick,%20saya%20ingin%20order%20produk."
      class="whats-fixed bg-green-500 hover:bg-green-600 text-white p-3 rounded-full shadow-lg"
      target="_blank"
      rel="noopener"
      aria-label="Chat WhatsApp"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="currentColor" viewBox="0 0 24 24">
        <path
          d="M20 3.94A11.92 11.92 0 0 0 12 .06C5.37.06.06 5.37.06 12a11.92 11.92 0 0 0 3.94 8.94L2 24l3.2-1.94A11.92 11.92 0 0 0 12 23.94c6.63 0 11.94-5.31 11.94-11.94A11.92 11.92 0 0 0 20 3.94ZM12 22a9.94 9.94 0 0 1-5.36-1.55l-.38-.24-2.28 1.38 1-2.51-.26-.4A9.94 9.94 0 1 1 12 22Zm5.49-7.39c-.3-.15-1.77-.87-2.05-.97-.27-.1-.47-.15-.67.15-.2.3-.77.97-.95 1.17-.17.2-.35.22-.65.07-.3-.15-1.26-.46-2.4-1.47-.88-.79-1.48-1.77-1.65-2.07-.17-.3-.02-.46.13-.61.13-.13.3-.35.45-.52.15-.17.2-.3.3-.5.1-.2.05-.37-.03-.52-.08-.15-.67-1.61-.92-2.21-.24-.58-.5-.5-.67-.51h-.57c-.2 0-.52.07-.8.37s-1.05 1.03-1.05 2.52 1.08 2.93 1.23 3.13c.15.2 2.13 3.26 5.16 4.57.72.31 1.28.5 1.72.64.72.23 1.37.2 1.88.12.57-.08 1.77-.73 2.02-1.44.25-.7.25-1.3.17-1.44-.08-.13-.27-.2-.57-.35Z"
        />
      </svg>
    </a>

    <script
      type="text/javascript"
      src="https://app.midtrans.com/snap/snap.js"
      data-client-key="Mid-client-zm_c7npVzn49Jo5F"
    ></script>

    <script>
      // Mobile nav toggle â€“ simpel & aksesibel
      (function () {
        const btn = document.getElementById("btn-menu");
        const menu = document.getElementById("mobileMenu");
        if (!btn || !menu) return;

        function toggleMenu(forceOpen) {
          const willOpen =
            forceOpen != null ? forceOpen : menu.classList.contains("hidden");
          menu.classList.toggle("hidden", !willOpen);
          btn.setAttribute("aria-expanded", String(willOpen));
        }

        btn.addEventListener("click", () => toggleMenu());

        // Tutup menu saat klik link di dalam menu (UX umum)
        menu.addEventListener("click", (e) => {
          const a = e.target.closest("a");
          if (a) toggleMenu(false);
        });

        // ESC untuk tutup
        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape") toggleMenu(false);
        });
      })();
    </script>

    <style>
      /* ===== Mobile override (<=640px) untuk HERO ===== */
      @media (max-width: 640px) {
        #hero {
          background-image: url("./assets/promo/Artboard-1-mobile.png");
          background-position: center top !important;
          background-size: cover !important;
        }
        #hero-title {
          top: 6% !important;
        }
        /* Ukuran judul & pill di HP */
        #hero-title h1{
          font-size: clamp(28px, 8.5vw, 40px) !important;
          line-height: 1.05;
        }
        #hero-title span{
          font-size: clamp(11px, 3vw, 14px) !important;
          padding: 6px 14px !important; /* sedikit lebih kecil */
        }
        #prod1 {
          left: 18% !important;
          bottom: 44% !important;
          transform: translate(-50%, 0) !important;
        }
        #prod2 {
          left: 50% !important;
          bottom: 42% !important;
          transform: translate(-50%, 0) !important;
        }
        #prod3 {
          left: 50% !important;
          bottom: 28% !important;
          transform: translate(-50%, 0) !important;
        }
        #prod4 {
          left: 82% !important;
          bottom: 18% !important;
          transform: translate(-50%, 0) rotate(6deg) !important;
        }
        .promo-panels {
          bottom: 3% !important;
          max-width: min(94vw, 380px) !important;
        }
        /* ===== M4: Mobile layout (â‰¤640px) ===== */
        @media (max-width: 640px){

        /* jadikan #m4 sebagai anchor absolut */
        #m4{ position: relative; }

        /* kolom kiri (yang berisi #m4-left-copy & gambar bawah) jangan relative,
          supaya #m4-left-copy nempel ke #m4, bukan ke kolom kiri */
        #m4 .order-2{ position: static !important; }

        /* padding section biar tidak ada gap besar */
        #m4 > .mx-auto{
          padding-top: 4vw !important;
          padding-bottom: 10vw !important;
        }

        /* label kiri-atas */
        #m4-left-copy{
          position: absolute; z-index: 10;
          top: 6vw; left: 6vw;          /* geser di sini kalau mau */
        }
        #m4-left-copy p{ /* New Arrival */
          font-size: clamp(16px,4.2vw,20px);
          color:#111;
        }
        #m4-left-copy h2{ /* watermark M4 */
          font-size: clamp(72px,30vw,130px);
          font-weight:300; line-height:.9;
          color: rgba(17,24,39,.18);
          margin-top: 1.2vw;
        }

        /* gambar atas lebih ke tengah */
        #m4-top{
          width: 178vw !important;       /* 170 â†’ 178 biar lebih penuh */
          max-width: none !important;
          transform: translateX(-8vw) !important;  /* dari 4vw â†’ -8vw */
          margin-top: 6vw;
        }

        /* gambar bawah ke kiri & sedikit naik */
        #m4-bottom{
          width: 168vw !important;
          max-width: none !important;
          transform: translateX(-42vw) translateY(-10vw) !important;
          margin-bottom: 12vw;
        }

        /* overlay SLIM / Stylish */
        #m4-mobile-words{
          position: absolute; z-index: 9;
          left: 6vw; top: 54%;           /* 56% â†’ 54% agar naik dikit */
          transform: none !important;
          text-align: left;
          pointer-events: none;
        }
        #m4-mobile-words > div:first-child{ /* SLIM */
          font-size: clamp(60px,30vw,120px);
          line-height:.9; font-weight:300;
          color: rgba(17,24,39,.18);
        }
        #m4-mobile-words > div:last-child{  /* Stylish */
          font-size: clamp(40px,18vw,84px);
          line-height:.9; margin-top:-2vw; font-weight:300;
          color: rgba(17,24,39,.18);
        }
        }

        /* layar mungil banget (â‰¤360px), sentuhan tambahan */
        @media (max-width: 360px){
        #m4-top{    width: 185vw !important; transform: translateX(-10vw) !important; }
        #m4-bottom{ width: 175vw !important; transform: translateX(-46vw) translateY(-12vw) !important; }
        #m4-mobile-words{ top: 56%; }
        }
    </style>
  </body>
</html>
